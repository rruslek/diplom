{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getCoordinatesOfGrid = exports.getCateCoordinateOfLine = exports.getCateCoordinateOfBar = exports.getBaseValueOfBar = exports.getBarSizeList = exports.getBarPosition = exports.getBandSizeOfAxis = exports.findPositionOfBar = exports.combineEventHandlers = exports.checkDomainOfScale = exports.calculateActiveTickIndex = exports.appendOffsetOfLegend = exports.MIN_VALUE_REG = exports.MAX_VALUE_REG = void 0;\nexports.getDomainOfDataByKey = getDomainOfDataByKey;\nexports.getTooltipItem = exports.getTicksOfScale = exports.getTicksOfAxis = exports.getStackedDataOfItem = exports.getStackedData = exports.getStackGroupsByAxisId = exports.getMainColorOfGraphicItem = exports.getLegendProps = exports.getDomainOfStackGroups = exports.getDomainOfItemsWithSameAxis = exports.getDomainOfErrorBars = void 0;\nexports.getValueByDataKey = getValueByDataKey;\nexports.truncateByDomain = exports.parseSpecifiedDomain = exports.parseScale = exports.parseErrorBarsOfAxis = exports.parseDomainOfCategoryAxis = exports.offsetSign = exports.offsetPositive = exports.isCategoricalAxis = void 0;\nvar _isEqual2 = _interopRequireDefault(require(\"lodash/isEqual\"));\nvar _sortBy2 = _interopRequireDefault(require(\"lodash/sortBy\"));\nvar _upperFirst2 = _interopRequireDefault(require(\"lodash/upperFirst\"));\nvar _isString2 = _interopRequireDefault(require(\"lodash/isString\"));\nvar _isNaN2 = _interopRequireDefault(require(\"lodash/isNaN\"));\nvar _isArray2 = _interopRequireDefault(require(\"lodash/isArray\"));\nvar _max2 = _interopRequireDefault(require(\"lodash/max\"));\nvar _min2 = _interopRequireDefault(require(\"lodash/min\"));\nvar _flatMap2 = _interopRequireDefault(require(\"lodash/flatMap\"));\nvar _isFunction2 = _interopRequireDefault(require(\"lodash/isFunction\"));\nvar _get2 = _interopRequireDefault(require(\"lodash/get\"));\nvar _isNil2 = _interopRequireDefault(require(\"lodash/isNil\"));\nvar d3Scales = _interopRequireWildcard(require(\"victory-vendor/d3-scale\"));\nvar _d3Shape = require(\"victory-vendor/d3-shape\");\nvar _rechartsScale = require(\"recharts-scale\");\nvar _ErrorBar = require(\"../cartesian/ErrorBar\");\nvar _Legend = require(\"../component/Legend\");\nvar _DataUtils = require(\"./DataUtils\");\nvar _ReactUtils = require(\"./ReactUtils\");\nfunction _getRequireWildcardCache(nodeInterop) {\n  if (typeof WeakMap !== \"function\") return null;\n  var cacheBabelInterop = new WeakMap();\n  var cacheNodeInterop = new WeakMap();\n  return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) {\n    return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n  })(nodeInterop);\n}\nfunction _interopRequireWildcard(obj, nodeInterop) {\n  if (!nodeInterop && obj && obj.__esModule) {\n    return obj;\n  }\n  if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") {\n    return {\n      \"default\": obj\n    };\n  }\n  var cache = _getRequireWildcardCache(nodeInterop);\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n  for (var key in obj) {\n    if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n  newObj[\"default\"] = obj;\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n  return newObj;\n}\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}\nfunction _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\n// TODO: Cause of circular dependency. Needs refactor.\n// import { RadiusAxisProps, AngleAxisProps } from '../polar/types';\n\nfunction getValueByDataKey(obj, dataKey, defaultValue) {\n  if ((0, _isNil2[\"default\"])(obj) || (0, _isNil2[\"default\"])(dataKey)) {\n    return defaultValue;\n  }\n  if ((0, _DataUtils.isNumOrStr)(dataKey)) {\n    return (0, _get2[\"default\"])(obj, dataKey, defaultValue);\n  }\n  if ((0, _isFunction2[\"default\"])(dataKey)) {\n    return dataKey(obj);\n  }\n  return defaultValue;\n}\n/**\n * Get domain of data by key\n * @param  {Array}   data      The data displayed in the chart\n * @param  {String}  key       The unique key of a group of data\n * @param  {String}  type      The type of axis\n * @param  {Boolean} filterNil Whether or not filter nil values\n * @return {Array} Domain of data\n */\nfunction getDomainOfDataByKey(data, key, type, filterNil) {\n  var flattenData = (0, _flatMap2[\"default\"])(data, function (entry) {\n    return getValueByDataKey(entry, key);\n  });\n  if (type === 'number') {\n    var domain = flattenData.filter(function (entry) {\n      return (0, _DataUtils.isNumber)(entry) || parseFloat(entry);\n    });\n    return domain.length ? [(0, _min2[\"default\"])(domain), (0, _max2[\"default\"])(domain)] : [Infinity, -Infinity];\n  }\n  var validateData = filterNil ? flattenData.filter(function (entry) {\n    return !(0, _isNil2[\"default\"])(entry);\n  }) : flattenData;\n\n  // 支持Date类型的x轴\n  return validateData.map(function (entry) {\n    return (0, _DataUtils.isNumOrStr)(entry) || entry instanceof Date ? entry : '';\n  });\n}\nvar calculateActiveTickIndex = function calculateActiveTickIndex(coordinate) {\n  var _ticks$length;\n  var ticks = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var unsortedTicks = arguments.length > 2 ? arguments[2] : undefined;\n  var axis = arguments.length > 3 ? arguments[3] : undefined;\n  var index = -1;\n  var len = (_ticks$length = ticks === null || ticks === void 0 ? void 0 : ticks.length) !== null && _ticks$length !== void 0 ? _ticks$length : 0;\n\n  // if there are 1 or less ticks ticks then the active tick is at index 0\n  if (len <= 1) {\n    return 0;\n  }\n  if (axis && axis.axisType === 'angleAxis' && Math.abs(Math.abs(axis.range[1] - axis.range[0]) - 360) <= 1e-6) {\n    var range = axis.range;\n    // ticks are distributed in a circle\n    for (var i = 0; i < len; i++) {\n      var before = i > 0 ? unsortedTicks[i - 1].coordinate : unsortedTicks[len - 1].coordinate;\n      var cur = unsortedTicks[i].coordinate;\n      var after = i >= len - 1 ? unsortedTicks[0].coordinate : unsortedTicks[i + 1].coordinate;\n      var sameDirectionCoord = void 0;\n      if ((0, _DataUtils.mathSign)(cur - before) !== (0, _DataUtils.mathSign)(after - cur)) {\n        var diffInterval = [];\n        if ((0, _DataUtils.mathSign)(after - cur) === (0, _DataUtils.mathSign)(range[1] - range[0])) {\n          sameDirectionCoord = after;\n          var curInRange = cur + range[1] - range[0];\n          diffInterval[0] = Math.min(curInRange, (curInRange + before) / 2);\n          diffInterval[1] = Math.max(curInRange, (curInRange + before) / 2);\n        } else {\n          sameDirectionCoord = before;\n          var afterInRange = after + range[1] - range[0];\n          diffInterval[0] = Math.min(cur, (afterInRange + cur) / 2);\n          diffInterval[1] = Math.max(cur, (afterInRange + cur) / 2);\n        }\n        var sameInterval = [Math.min(cur, (sameDirectionCoord + cur) / 2), Math.max(cur, (sameDirectionCoord + cur) / 2)];\n        if (coordinate > sameInterval[0] && coordinate <= sameInterval[1] || coordinate >= diffInterval[0] && coordinate <= diffInterval[1]) {\n          index = unsortedTicks[i].index;\n          break;\n        }\n      } else {\n        var min = Math.min(before, after);\n        var max = Math.max(before, after);\n        if (coordinate > (min + cur) / 2 && coordinate <= (max + cur) / 2) {\n          index = unsortedTicks[i].index;\n          break;\n        }\n      }\n    }\n  } else {\n    // ticks are distributed in a single direction\n    for (var _i = 0; _i < len; _i++) {\n      if (_i === 0 && coordinate <= (ticks[_i].coordinate + ticks[_i + 1].coordinate) / 2 || _i > 0 && _i < len - 1 && coordinate > (ticks[_i].coordinate + ticks[_i - 1].coordinate) / 2 && coordinate <= (ticks[_i].coordinate + ticks[_i + 1].coordinate) / 2 || _i === len - 1 && coordinate > (ticks[_i].coordinate + ticks[_i - 1].coordinate) / 2) {\n        index = ticks[_i].index;\n        break;\n      }\n    }\n  }\n  return index;\n};\n\n/**\n * Get the main color of each graphic item\n * @param  {ReactElement} item A graphic item\n * @return {String}            Color\n */\nexports.calculateActiveTickIndex = calculateActiveTickIndex;\nvar getMainColorOfGraphicItem = function getMainColorOfGraphicItem(item) {\n  var _ref = item,\n    displayName = _ref.type.displayName; // TODO: check if displayName is valid.\n  var _item$props = item.props,\n    stroke = _item$props.stroke,\n    fill = _item$props.fill;\n  var result;\n  switch (displayName) {\n    case 'Line':\n      result = stroke;\n      break;\n    case 'Area':\n    case 'Radar':\n      result = stroke && stroke !== 'none' ? stroke : fill;\n      break;\n    default:\n      result = fill;\n      break;\n  }\n  return result;\n};\nexports.getMainColorOfGraphicItem = getMainColorOfGraphicItem;\nvar getLegendProps = function getLegendProps(_ref2) {\n  var children = _ref2.children,\n    formattedGraphicalItems = _ref2.formattedGraphicalItems,\n    legendWidth = _ref2.legendWidth,\n    legendContent = _ref2.legendContent;\n  var legendItem = (0, _ReactUtils.findChildByType)(children, _Legend.Legend);\n  if (!legendItem) {\n    return null;\n  }\n  var legendData;\n  if (legendItem.props && legendItem.props.payload) {\n    legendData = legendItem.props && legendItem.props.payload;\n  } else if (legendContent === 'children') {\n    legendData = (formattedGraphicalItems || []).reduce(function (result, _ref3) {\n      var item = _ref3.item,\n        props = _ref3.props;\n      var data = props.sectors || props.data || [];\n      return result.concat(data.map(function (entry) {\n        return {\n          type: legendItem.props.iconType || item.props.legendType,\n          value: entry.name,\n          color: entry.fill,\n          payload: entry\n        };\n      }));\n    }, []);\n  } else {\n    legendData = (formattedGraphicalItems || []).map(function (_ref4) {\n      var item = _ref4.item;\n      var _item$props2 = item.props,\n        dataKey = _item$props2.dataKey,\n        name = _item$props2.name,\n        legendType = _item$props2.legendType,\n        hide = _item$props2.hide;\n      return {\n        inactive: hide,\n        dataKey: dataKey,\n        type: legendItem.props.iconType || legendType || 'square',\n        color: getMainColorOfGraphicItem(item),\n        value: name || dataKey,\n        payload: item.props\n      };\n    });\n  }\n  return _objectSpread(_objectSpread(_objectSpread({}, legendItem.props), _Legend.Legend.getWithHeight(legendItem, legendWidth)), {}, {\n    payload: legendData,\n    item: legendItem\n  });\n};\n/**\n * Calculate the size of all groups for stacked bar graph\n * @param  {Object} stackGroups The items grouped by axisId and stackId\n * @return {Object} The size of all groups\n */\nexports.getLegendProps = getLegendProps;\nvar getBarSizeList = function getBarSizeList(_ref5) {\n  var globalSize = _ref5.barSize,\n    _ref5$stackGroups = _ref5.stackGroups,\n    stackGroups = _ref5$stackGroups === void 0 ? {} : _ref5$stackGroups;\n  if (!stackGroups) {\n    return {};\n  }\n  var result = {};\n  var numericAxisIds = Object.keys(stackGroups);\n  for (var i = 0, len = numericAxisIds.length; i < len; i++) {\n    var sgs = stackGroups[numericAxisIds[i]].stackGroups;\n    var stackIds = Object.keys(sgs);\n    for (var j = 0, sLen = stackIds.length; j < sLen; j++) {\n      var _sgs$stackIds$j = sgs[stackIds[j]],\n        items = _sgs$stackIds$j.items,\n        cateAxisId = _sgs$stackIds$j.cateAxisId;\n      var barItems = items.filter(function (item) {\n        return (0, _ReactUtils.getDisplayName)(item.type).indexOf('Bar') >= 0;\n      });\n      if (barItems && barItems.length) {\n        var selfSize = barItems[0].props.barSize;\n        var cateId = barItems[0].props[cateAxisId];\n        if (!result[cateId]) {\n          result[cateId] = [];\n        }\n        result[cateId].push({\n          item: barItems[0],\n          stackList: barItems.slice(1),\n          barSize: (0, _isNil2[\"default\"])(selfSize) ? globalSize : selfSize\n        });\n      }\n    }\n  }\n  return result;\n};\n\n/**\n * Calculate the size of each bar and the gap between two bars\n * @param  {Number} bandSize  The size of each category\n * @param  {sizeList} sizeList  The size of all groups\n * @param  {maxBarSize} maxBarSize The maximum size of bar\n * @return {Number} The size of each bar and the gap between two bars\n */\nexports.getBarSizeList = getBarSizeList;\nvar getBarPosition = function getBarPosition(_ref6) {\n  var barGap = _ref6.barGap,\n    barCategoryGap = _ref6.barCategoryGap,\n    bandSize = _ref6.bandSize,\n    _ref6$sizeList = _ref6.sizeList,\n    sizeList = _ref6$sizeList === void 0 ? [] : _ref6$sizeList,\n    maxBarSize = _ref6.maxBarSize;\n  var len = sizeList.length;\n  if (len < 1) return null;\n  var realBarGap = (0, _DataUtils.getPercentValue)(barGap, bandSize, 0, true);\n  var result;\n\n  // whether or not is barSize setted by user\n  if (sizeList[0].barSize === +sizeList[0].barSize) {\n    var useFull = false;\n    var fullBarSize = bandSize / len;\n    var sum = sizeList.reduce(function (res, entry) {\n      return res + entry.barSize || 0;\n    }, 0);\n    sum += (len - 1) * realBarGap;\n    if (sum >= bandSize) {\n      sum -= (len - 1) * realBarGap;\n      realBarGap = 0;\n    }\n    if (sum >= bandSize && fullBarSize > 0) {\n      useFull = true;\n      fullBarSize *= 0.9;\n      sum = len * fullBarSize;\n    }\n    var offset = (bandSize - sum) / 2 >> 0;\n    var prev = {\n      offset: offset - realBarGap,\n      size: 0\n    };\n    result = sizeList.reduce(function (res, entry) {\n      var newRes = [].concat(_toConsumableArray(res), [{\n        item: entry.item,\n        position: {\n          offset: prev.offset + prev.size + realBarGap,\n          size: useFull ? fullBarSize : entry.barSize\n        }\n      }]);\n      prev = newRes[newRes.length - 1].position;\n      if (entry.stackList && entry.stackList.length) {\n        entry.stackList.forEach(function (item) {\n          newRes.push({\n            item: item,\n            position: prev\n          });\n        });\n      }\n      return newRes;\n    }, []);\n  } else {\n    var _offset = (0, _DataUtils.getPercentValue)(barCategoryGap, bandSize, 0, true);\n    if (bandSize - 2 * _offset - (len - 1) * realBarGap <= 0) {\n      realBarGap = 0;\n    }\n    var originalSize = (bandSize - 2 * _offset - (len - 1) * realBarGap) / len;\n    if (originalSize > 1) {\n      originalSize >>= 0;\n    }\n    var size = maxBarSize === +maxBarSize ? Math.min(originalSize, maxBarSize) : originalSize;\n    result = sizeList.reduce(function (res, entry, i) {\n      var newRes = [].concat(_toConsumableArray(res), [{\n        item: entry.item,\n        position: {\n          offset: _offset + (originalSize + realBarGap) * i + (originalSize - size) / 2,\n          size: size\n        }\n      }]);\n      if (entry.stackList && entry.stackList.length) {\n        entry.stackList.forEach(function (item) {\n          newRes.push({\n            item: item,\n            position: newRes[newRes.length - 1].position\n          });\n        });\n      }\n      return newRes;\n    }, []);\n  }\n  return result;\n};\nexports.getBarPosition = getBarPosition;\nvar appendOffsetOfLegend = function appendOffsetOfLegend(offset, items, props, legendBox) {\n  var children = props.children,\n    width = props.width,\n    margin = props.margin;\n  var legendWidth = width - (margin.left || 0) - (margin.right || 0);\n  // const legendHeight = height - (margin.top || 0) - (margin.bottom || 0);\n  var legendProps = getLegendProps({\n    children: children,\n    legendWidth: legendWidth\n  });\n  var newOffset = offset;\n  if (legendProps) {\n    var box = legendBox || {};\n    var align = legendProps.align,\n      verticalAlign = legendProps.verticalAlign,\n      layout = legendProps.layout;\n    if ((layout === 'vertical' || layout === 'horizontal' && verticalAlign === 'middle') && (0, _DataUtils.isNumber)(offset[align])) {\n      newOffset = _objectSpread(_objectSpread({}, offset), {}, _defineProperty({}, align, newOffset[align] + (box.width || 0)));\n    }\n    if ((layout === 'horizontal' || layout === 'vertical' && align === 'center') && (0, _DataUtils.isNumber)(offset[verticalAlign])) {\n      newOffset = _objectSpread(_objectSpread({}, offset), {}, _defineProperty({}, verticalAlign, newOffset[verticalAlign] + (box.height || 0)));\n    }\n  }\n  return newOffset;\n};\nexports.appendOffsetOfLegend = appendOffsetOfLegend;\nvar isErrorBarRelevantForAxis = function isErrorBarRelevantForAxis(layout, axisType, direction) {\n  if ((0, _isNil2[\"default\"])(axisType)) {\n    return true;\n  }\n  if (layout === 'horizontal') {\n    return axisType === 'yAxis';\n  }\n  if (layout === 'vertical') {\n    return axisType === 'xAxis';\n  }\n  if (direction === 'x') {\n    return axisType === 'xAxis';\n  }\n  if (direction === 'y') {\n    return axisType === 'yAxis';\n  }\n  return true;\n};\nvar getDomainOfErrorBars = function getDomainOfErrorBars(data, item, dataKey, layout, axisType) {\n  var children = item.props.children;\n  var errorBars = (0, _ReactUtils.findAllByType)(children, _ErrorBar.ErrorBar).filter(function (errorBarChild) {\n    return isErrorBarRelevantForAxis(layout, axisType, errorBarChild.props.direction);\n  });\n  if (errorBars && errorBars.length) {\n    var keys = errorBars.map(function (errorBarChild) {\n      return errorBarChild.props.dataKey;\n    });\n    return data.reduce(function (result, entry) {\n      var entryValue = getValueByDataKey(entry, dataKey, 0);\n      var mainValue = (0, _isArray2[\"default\"])(entryValue) ? [(0, _min2[\"default\"])(entryValue), (0, _max2[\"default\"])(entryValue)] : [entryValue, entryValue];\n      var errorDomain = keys.reduce(function (prevErrorArr, k) {\n        var errorValue = getValueByDataKey(entry, k, 0);\n        var lowerValue = mainValue[0] - Math.abs((0, _isArray2[\"default\"])(errorValue) ? errorValue[0] : errorValue);\n        var upperValue = mainValue[1] + Math.abs((0, _isArray2[\"default\"])(errorValue) ? errorValue[1] : errorValue);\n        return [Math.min(lowerValue, prevErrorArr[0]), Math.max(upperValue, prevErrorArr[1])];\n      }, [Infinity, -Infinity]);\n      return [Math.min(errorDomain[0], result[0]), Math.max(errorDomain[1], result[1])];\n    }, [Infinity, -Infinity]);\n  }\n  return null;\n};\nexports.getDomainOfErrorBars = getDomainOfErrorBars;\nvar parseErrorBarsOfAxis = function parseErrorBarsOfAxis(data, items, dataKey, axisType, layout) {\n  var domains = items.map(function (item) {\n    return getDomainOfErrorBars(data, item, dataKey, layout, axisType);\n  }).filter(function (entry) {\n    return !(0, _isNil2[\"default\"])(entry);\n  });\n  if (domains && domains.length) {\n    return domains.reduce(function (result, entry) {\n      return [Math.min(result[0], entry[0]), Math.max(result[1], entry[1])];\n    }, [Infinity, -Infinity]);\n  }\n  return null;\n};\n\n/**\n * Get domain of data by the configuration of item element\n * @param  {Array}   data      The data displayed in the chart\n * @param  {Array}   items     The instances of item\n * @param  {String}  type      The type of axis, number - Number Axis, category - Category Axis\n * @param  {LayoutType} layout The type of layout\n * @param  {Boolean} filterNil Whether or not filter nil values\n * @return {Array}        Domain\n */\nexports.parseErrorBarsOfAxis = parseErrorBarsOfAxis;\nvar getDomainOfItemsWithSameAxis = function getDomainOfItemsWithSameAxis(data, items, type, layout, filterNil) {\n  var domains = items.map(function (item) {\n    var dataKey = item.props.dataKey;\n    if (type === 'number' && dataKey) {\n      return getDomainOfErrorBars(data, item, dataKey, layout) || getDomainOfDataByKey(data, dataKey, type, filterNil);\n    }\n    return getDomainOfDataByKey(data, dataKey, type, filterNil);\n  });\n  if (type === 'number') {\n    // Calculate the domain of number axis\n    return domains.reduce(function (result, entry) {\n      return [Math.min(result[0], entry[0]), Math.max(result[1], entry[1])];\n    }, [Infinity, -Infinity]);\n  }\n  var tag = {};\n  // Get the union set of category axis\n  return domains.reduce(function (result, entry) {\n    for (var i = 0, len = entry.length; i < len; i++) {\n      if (!tag[entry[i]]) {\n        tag[entry[i]] = true;\n        result.push(entry[i]);\n      }\n    }\n    return result;\n  }, []);\n};\nexports.getDomainOfItemsWithSameAxis = getDomainOfItemsWithSameAxis;\nvar isCategoricalAxis = function isCategoricalAxis(layout, axisType) {\n  return layout === 'horizontal' && axisType === 'xAxis' || layout === 'vertical' && axisType === 'yAxis' || layout === 'centric' && axisType === 'angleAxis' || layout === 'radial' && axisType === 'radiusAxis';\n};\n\n/**\n * Calculate the Coordinates of grid\n * @param  {Array} ticks The ticks in axis\n * @param {Number} min   The minimun value of axis\n * @param {Number} max   The maximun value of axis\n * @return {Array}       Coordinates\n */\nexports.isCategoricalAxis = isCategoricalAxis;\nvar getCoordinatesOfGrid = function getCoordinatesOfGrid(ticks, min, max) {\n  var hasMin, hasMax;\n  var values = ticks.map(function (entry) {\n    if (entry.coordinate === min) {\n      hasMin = true;\n    }\n    if (entry.coordinate === max) {\n      hasMax = true;\n    }\n    return entry.coordinate;\n  });\n  if (!hasMin) {\n    values.push(min);\n  }\n  if (!hasMax) {\n    values.push(max);\n  }\n  return values;\n};\n\n/**\n * Get the ticks of an axis\n * @param  {Object}  axis The configuration of an axis\n * @param {Boolean} isGrid Whether or not are the ticks in grid\n * @param {Boolean} isAll Return the ticks of all the points or not\n * @return {Array}  Ticks\n */\nexports.getCoordinatesOfGrid = getCoordinatesOfGrid;\nvar getTicksOfAxis = function getTicksOfAxis(axis, isGrid, isAll) {\n  if (!axis) return null;\n  var scale = axis.scale;\n  var duplicateDomain = axis.duplicateDomain,\n    type = axis.type,\n    range = axis.range;\n  var offsetForBand = axis.realScaleType === 'scaleBand' ? scale.bandwidth() / 2 : 2;\n  var offset = (isGrid || isAll) && type === 'category' && scale.bandwidth ? scale.bandwidth() / offsetForBand : 0;\n  offset = axis.axisType === 'angleAxis' && (range === null || range === void 0 ? void 0 : range.length) >= 2 ? (0, _DataUtils.mathSign)(range[0] - range[1]) * 2 * offset : offset;\n\n  // The ticks set by user should only affect the ticks adjacent to axis line\n  if (isGrid && (axis.ticks || axis.niceTicks)) {\n    var result = (axis.ticks || axis.niceTicks).map(function (entry) {\n      var scaleContent = duplicateDomain ? duplicateDomain.indexOf(entry) : entry;\n      return {\n        // If the scaleContent is not a number, the coordinate will be NaN.\n        // That could be the case for example with a PointScale and a string as domain.\n        coordinate: scale(scaleContent) + offset,\n        value: entry,\n        offset: offset\n      };\n    });\n    return result.filter(function (row) {\n      return !(0, _isNaN2[\"default\"])(row.coordinate);\n    });\n  }\n\n  // When axis is a categorial axis, but the type of axis is number or the scale of axis is not \"auto\"\n  if (axis.isCategorical && axis.categoricalDomain) {\n    return axis.categoricalDomain.map(function (entry, index) {\n      return {\n        coordinate: scale(entry) + offset,\n        value: entry,\n        index: index,\n        offset: offset\n      };\n    });\n  }\n  if (scale.ticks && !isAll) {\n    return scale.ticks(axis.tickCount).map(function (entry) {\n      return {\n        coordinate: scale(entry) + offset,\n        value: entry,\n        offset: offset\n      };\n    });\n  }\n\n  // When axis has duplicated text, serial numbers are used to generate scale\n  return scale.domain().map(function (entry, index) {\n    return {\n      coordinate: scale(entry) + offset,\n      value: duplicateDomain ? duplicateDomain[entry] : entry,\n      index: index,\n      offset: offset\n    };\n  });\n};\n\n/**\n * combine the handlers\n * @param  {Function} defaultHandler Internal private handler\n * @param  {Function} parentHandler  Handler function specified in parent component\n * @param  {Function} childHandler   Handler function specified in child component\n * @return {Function}                The combined handler\n */\nexports.getTicksOfAxis = getTicksOfAxis;\nvar combineEventHandlers = function combineEventHandlers(defaultHandler, parentHandler, childHandler) {\n  var customizedHandler;\n  if ((0, _isFunction2[\"default\"])(childHandler)) {\n    customizedHandler = childHandler;\n  } else if ((0, _isFunction2[\"default\"])(parentHandler)) {\n    customizedHandler = parentHandler;\n  }\n  if ((0, _isFunction2[\"default\"])(defaultHandler) || customizedHandler) {\n    return function (arg1, arg2, arg3, arg4) {\n      if ((0, _isFunction2[\"default\"])(defaultHandler)) {\n        defaultHandler(arg1, arg2, arg3, arg4);\n      }\n      if ((0, _isFunction2[\"default\"])(customizedHandler)) {\n        customizedHandler(arg1, arg2, arg3, arg4);\n      }\n    };\n  }\n  return null;\n};\n/**\n * Parse the scale function of axis\n * @param  {Object}   axis          The option of axis\n * @param  {String}   chartType     The displayName of chart\n * @param  {Boolean}  hasBar        if it has a bar\n * @return {Function}               The scale function\n */\nexports.combineEventHandlers = combineEventHandlers;\nvar parseScale = function parseScale(axis, chartType, hasBar) {\n  var scale = axis.scale,\n    type = axis.type,\n    layout = axis.layout,\n    axisType = axis.axisType;\n  if (scale === 'auto') {\n    if (layout === 'radial' && axisType === 'radiusAxis') {\n      return {\n        scale: d3Scales.scaleBand(),\n        realScaleType: 'band'\n      };\n    }\n    if (layout === 'radial' && axisType === 'angleAxis') {\n      return {\n        scale: d3Scales.scaleLinear(),\n        realScaleType: 'linear'\n      };\n    }\n    if (type === 'category' && chartType && (chartType.indexOf('LineChart') >= 0 || chartType.indexOf('AreaChart') >= 0 || chartType.indexOf('ComposedChart') >= 0 && !hasBar)) {\n      return {\n        scale: d3Scales.scalePoint(),\n        realScaleType: 'point'\n      };\n    }\n    if (type === 'category') {\n      return {\n        scale: d3Scales.scaleBand(),\n        realScaleType: 'band'\n      };\n    }\n    return {\n      scale: d3Scales.scaleLinear(),\n      realScaleType: 'linear'\n    };\n  }\n  if ((0, _isString2[\"default\"])(scale)) {\n    var name = \"scale\".concat((0, _upperFirst2[\"default\"])(scale));\n    return {\n      scale: (d3Scales[name] || d3Scales.scalePoint)(),\n      realScaleType: d3Scales[name] ? name : 'point'\n    };\n  }\n  return (0, _isFunction2[\"default\"])(scale) ? {\n    scale: scale\n  } : {\n    scale: d3Scales.scalePoint(),\n    realScaleType: 'point'\n  };\n};\nexports.parseScale = parseScale;\nvar EPS = 1e-4;\nvar checkDomainOfScale = function checkDomainOfScale(scale) {\n  var domain = scale.domain();\n  if (!domain || domain.length <= 2) {\n    return;\n  }\n  var len = domain.length;\n  var range = scale.range();\n  var min = Math.min(range[0], range[1]) - EPS;\n  var max = Math.max(range[0], range[1]) + EPS;\n  var first = scale(domain[0]);\n  var last = scale(domain[len - 1]);\n  if (first < min || first > max || last < min || last > max) {\n    scale.domain([domain[0], domain[len - 1]]);\n  }\n};\nexports.checkDomainOfScale = checkDomainOfScale;\nvar findPositionOfBar = function findPositionOfBar(barPosition, child) {\n  if (!barPosition) {\n    return null;\n  }\n  for (var i = 0, len = barPosition.length; i < len; i++) {\n    if (barPosition[i].item === child) {\n      return barPosition[i].position;\n    }\n  }\n  return null;\n};\nexports.findPositionOfBar = findPositionOfBar;\nvar truncateByDomain = function truncateByDomain(value, domain) {\n  if (!domain || domain.length !== 2 || !(0, _DataUtils.isNumber)(domain[0]) || !(0, _DataUtils.isNumber)(domain[1])) {\n    return value;\n  }\n  var min = Math.min(domain[0], domain[1]);\n  var max = Math.max(domain[0], domain[1]);\n  var result = [value[0], value[1]];\n  if (!(0, _DataUtils.isNumber)(value[0]) || value[0] < min) {\n    result[0] = min;\n  }\n  if (!(0, _DataUtils.isNumber)(value[1]) || value[1] > max) {\n    result[1] = max;\n  }\n  if (result[0] > max) {\n    result[0] = max;\n  }\n  if (result[1] < min) {\n    result[1] = min;\n  }\n  return result;\n};\n\n/* eslint no-param-reassign: 0 */\nexports.truncateByDomain = truncateByDomain;\nvar offsetSign = function offsetSign(series) {\n  var n = series.length;\n  if (n <= 0) {\n    return;\n  }\n  for (var j = 0, m = series[0].length; j < m; ++j) {\n    var positive = 0;\n    var negative = 0;\n    for (var i = 0; i < n; ++i) {\n      var value = (0, _isNaN2[\"default\"])(series[i][j][1]) ? series[i][j][0] : series[i][j][1];\n\n      /* eslint-disable prefer-destructuring */\n      if (value >= 0) {\n        series[i][j][0] = positive;\n        series[i][j][1] = positive + value;\n        positive = series[i][j][1];\n      } else {\n        series[i][j][0] = negative;\n        series[i][j][1] = negative + value;\n        negative = series[i][j][1];\n      }\n      /* eslint-enable prefer-destructuring */\n    }\n  }\n};\n\nexports.offsetSign = offsetSign;\nvar offsetPositive = function offsetPositive(series) {\n  var n = series.length;\n  if (n <= 0) {\n    return;\n  }\n  for (var j = 0, m = series[0].length; j < m; ++j) {\n    var positive = 0;\n    for (var i = 0; i < n; ++i) {\n      var value = (0, _isNaN2[\"default\"])(series[i][j][1]) ? series[i][j][0] : series[i][j][1];\n\n      /* eslint-disable prefer-destructuring */\n      if (value >= 0) {\n        series[i][j][0] = positive;\n        series[i][j][1] = positive + value;\n        positive = series[i][j][1];\n      } else {\n        series[i][j][0] = 0;\n        series[i][j][1] = 0;\n      }\n      /* eslint-enable prefer-destructuring */\n    }\n  }\n};\n\nexports.offsetPositive = offsetPositive;\nvar STACK_OFFSET_MAP = {\n  sign: offsetSign,\n  expand: _d3Shape.stackOffsetExpand,\n  none: _d3Shape.stackOffsetNone,\n  silhouette: _d3Shape.stackOffsetSilhouette,\n  wiggle: _d3Shape.stackOffsetWiggle,\n  positive: offsetPositive\n};\nvar getStackedData = function getStackedData(data, stackItems, offsetType) {\n  var dataKeys = stackItems.map(function (item) {\n    return item.props.dataKey;\n  });\n  var stack = (0, _d3Shape.stack)().keys(dataKeys).value(function (d, key) {\n    return +getValueByDataKey(d, key, 0);\n  }).order(_d3Shape.stackOrderNone).offset(STACK_OFFSET_MAP[offsetType]);\n  return stack(data);\n};\nexports.getStackedData = getStackedData;\nvar getStackGroupsByAxisId = function getStackGroupsByAxisId(data, _items, numericAxisId, cateAxisId, offsetType, reverseStackOrder) {\n  if (!data) {\n    return null;\n  }\n\n  // reversing items to affect render order (for layering)\n  var items = reverseStackOrder ? _items.reverse() : _items;\n  var stackGroups = items.reduce(function (result, item) {\n    var _item$props3 = item.props,\n      stackId = _item$props3.stackId,\n      hide = _item$props3.hide;\n    if (hide) {\n      return result;\n    }\n    var axisId = item.props[numericAxisId];\n    var parentGroup = result[axisId] || {\n      hasStack: false,\n      stackGroups: {}\n    };\n    if ((0, _DataUtils.isNumOrStr)(stackId)) {\n      var childGroup = parentGroup.stackGroups[stackId] || {\n        numericAxisId: numericAxisId,\n        cateAxisId: cateAxisId,\n        items: []\n      };\n      childGroup.items.push(item);\n      parentGroup.hasStack = true;\n      parentGroup.stackGroups[stackId] = childGroup;\n    } else {\n      parentGroup.stackGroups[(0, _DataUtils.uniqueId)('_stackId_')] = {\n        numericAxisId: numericAxisId,\n        cateAxisId: cateAxisId,\n        items: [item]\n      };\n    }\n    return _objectSpread(_objectSpread({}, result), {}, _defineProperty({}, axisId, parentGroup));\n  }, {});\n  return Object.keys(stackGroups).reduce(function (result, axisId) {\n    var group = stackGroups[axisId];\n    if (group.hasStack) {\n      group.stackGroups = Object.keys(group.stackGroups).reduce(function (res, stackId) {\n        var g = group.stackGroups[stackId];\n        return _objectSpread(_objectSpread({}, res), {}, _defineProperty({}, stackId, {\n          numericAxisId: numericAxisId,\n          cateAxisId: cateAxisId,\n          items: g.items,\n          stackedData: getStackedData(data, g.items, offsetType)\n        }));\n      }, {});\n    }\n    return _objectSpread(_objectSpread({}, result), {}, _defineProperty({}, axisId, group));\n  }, {});\n};\n\n/**\n * Configure the scale function of axis\n * @param {Object} scale The scale function\n * @param {Object} opts  The configuration of axis\n * @return {Object}      null\n */\nexports.getStackGroupsByAxisId = getStackGroupsByAxisId;\nvar getTicksOfScale = function getTicksOfScale(scale, opts) {\n  var realScaleType = opts.realScaleType,\n    type = opts.type,\n    tickCount = opts.tickCount,\n    originalDomain = opts.originalDomain,\n    allowDecimals = opts.allowDecimals;\n  var scaleType = realScaleType || opts.scale;\n  if (scaleType !== 'auto' && scaleType !== 'linear') {\n    return null;\n  }\n  if (tickCount && type === 'number' && originalDomain && (originalDomain[0] === 'auto' || originalDomain[1] === 'auto')) {\n    // Calculate the ticks by the number of grid when the axis is a number axis\n    var domain = scale.domain();\n    if (!domain.length) {\n      return null;\n    }\n    var tickValues = (0, _rechartsScale.getNiceTickValues)(domain, tickCount, allowDecimals);\n    scale.domain([(0, _min2[\"default\"])(tickValues), (0, _max2[\"default\"])(tickValues)]);\n    return {\n      niceTicks: tickValues\n    };\n  }\n  if (tickCount && type === 'number') {\n    var _domain = scale.domain();\n    var _tickValues = (0, _rechartsScale.getTickValuesFixedDomain)(_domain, tickCount, allowDecimals);\n    return {\n      niceTicks: _tickValues\n    };\n  }\n  return null;\n};\nexports.getTicksOfScale = getTicksOfScale;\nvar getCateCoordinateOfLine = function getCateCoordinateOfLine(_ref7) {\n  var axis = _ref7.axis,\n    ticks = _ref7.ticks,\n    bandSize = _ref7.bandSize,\n    entry = _ref7.entry,\n    index = _ref7.index,\n    dataKey = _ref7.dataKey;\n  if (axis.type === 'category') {\n    // find coordinate of category axis by the value of category\n    if (!axis.allowDuplicatedCategory && axis.dataKey && !(0, _isNil2[\"default\"])(entry[axis.dataKey])) {\n      var matchedTick = (0, _DataUtils.findEntryInArray)(ticks, 'value', entry[axis.dataKey]);\n      if (matchedTick) {\n        return matchedTick.coordinate + bandSize / 2;\n      }\n    }\n    return ticks[index] ? ticks[index].coordinate + bandSize / 2 : null;\n  }\n  var value = getValueByDataKey(entry, !(0, _isNil2[\"default\"])(dataKey) ? dataKey : axis.dataKey);\n  return !(0, _isNil2[\"default\"])(value) ? axis.scale(value) : null;\n};\nexports.getCateCoordinateOfLine = getCateCoordinateOfLine;\nvar getCateCoordinateOfBar = function getCateCoordinateOfBar(_ref8) {\n  var axis = _ref8.axis,\n    ticks = _ref8.ticks,\n    offset = _ref8.offset,\n    bandSize = _ref8.bandSize,\n    entry = _ref8.entry,\n    index = _ref8.index;\n  if (axis.type === 'category') {\n    return ticks[index] ? ticks[index].coordinate + offset : null;\n  }\n  var value = getValueByDataKey(entry, axis.dataKey, axis.domain[index]);\n  return !(0, _isNil2[\"default\"])(value) ? axis.scale(value) - bandSize / 2 + offset : null;\n};\nexports.getCateCoordinateOfBar = getCateCoordinateOfBar;\nvar getBaseValueOfBar = function getBaseValueOfBar(_ref9) {\n  var numericAxis = _ref9.numericAxis;\n  var domain = numericAxis.scale.domain();\n  if (numericAxis.type === 'number') {\n    var min = Math.min(domain[0], domain[1]);\n    var max = Math.max(domain[0], domain[1]);\n    if (min <= 0 && max >= 0) {\n      return 0;\n    }\n    if (max < 0) {\n      return max;\n    }\n    return min;\n  }\n  return domain[0];\n};\nexports.getBaseValueOfBar = getBaseValueOfBar;\nvar getStackedDataOfItem = function getStackedDataOfItem(item, stackGroups) {\n  var stackId = item.props.stackId;\n  if ((0, _DataUtils.isNumOrStr)(stackId)) {\n    var group = stackGroups[stackId];\n    if (group && group.items.length) {\n      var itemIndex = -1;\n      for (var i = 0, len = group.items.length; i < len; i++) {\n        if (group.items[i] === item) {\n          itemIndex = i;\n          break;\n        }\n      }\n      return itemIndex >= 0 ? group.stackedData[itemIndex] : null;\n    }\n  }\n  return null;\n};\nexports.getStackedDataOfItem = getStackedDataOfItem;\nvar getDomainOfSingle = function getDomainOfSingle(data) {\n  return data.reduce(function (result, entry) {\n    return [(0, _min2[\"default\"])(entry.concat([result[0]]).filter(_DataUtils.isNumber)), (0, _max2[\"default\"])(entry.concat([result[1]]).filter(_DataUtils.isNumber))];\n  }, [Infinity, -Infinity]);\n};\nvar getDomainOfStackGroups = function getDomainOfStackGroups(stackGroups, startIndex, endIndex) {\n  return Object.keys(stackGroups).reduce(function (result, stackId) {\n    var group = stackGroups[stackId];\n    var stackedData = group.stackedData;\n    var domain = stackedData.reduce(function (res, entry) {\n      var s = getDomainOfSingle(entry.slice(startIndex, endIndex + 1));\n      return [Math.min(res[0], s[0]), Math.max(res[1], s[1])];\n    }, [Infinity, -Infinity]);\n    return [Math.min(domain[0], result[0]), Math.max(domain[1], result[1])];\n  }, [Infinity, -Infinity]).map(function (result) {\n    return result === Infinity || result === -Infinity ? 0 : result;\n  });\n};\nexports.getDomainOfStackGroups = getDomainOfStackGroups;\nvar MIN_VALUE_REG = /^dataMin[\\s]*-[\\s]*([0-9]+([.]{1}[0-9]+){0,1})$/;\nexports.MIN_VALUE_REG = MIN_VALUE_REG;\nvar MAX_VALUE_REG = /^dataMax[\\s]*\\+[\\s]*([0-9]+([.]{1}[0-9]+){0,1})$/;\nexports.MAX_VALUE_REG = MAX_VALUE_REG;\nvar parseSpecifiedDomain = function parseSpecifiedDomain(specifiedDomain, dataDomain, allowDataOverflow) {\n  if ((0, _isFunction2[\"default\"])(specifiedDomain)) {\n    return specifiedDomain(dataDomain, allowDataOverflow);\n  }\n  if (!(0, _isArray2[\"default\"])(specifiedDomain)) {\n    return dataDomain;\n  }\n  var domain = [];\n\n  /* eslint-disable prefer-destructuring */\n  if ((0, _DataUtils.isNumber)(specifiedDomain[0])) {\n    domain[0] = allowDataOverflow ? specifiedDomain[0] : Math.min(specifiedDomain[0], dataDomain[0]);\n  } else if (MIN_VALUE_REG.test(specifiedDomain[0])) {\n    var value = +MIN_VALUE_REG.exec(specifiedDomain[0])[1];\n    domain[0] = dataDomain[0] - value;\n  } else if ((0, _isFunction2[\"default\"])(specifiedDomain[0])) {\n    domain[0] = specifiedDomain[0](dataDomain[0]);\n  } else {\n    domain[0] = dataDomain[0];\n  }\n  if ((0, _DataUtils.isNumber)(specifiedDomain[1])) {\n    domain[1] = allowDataOverflow ? specifiedDomain[1] : Math.max(specifiedDomain[1], dataDomain[1]);\n  } else if (MAX_VALUE_REG.test(specifiedDomain[1])) {\n    var _value = +MAX_VALUE_REG.exec(specifiedDomain[1])[1];\n    domain[1] = dataDomain[1] + _value;\n  } else if ((0, _isFunction2[\"default\"])(specifiedDomain[1])) {\n    domain[1] = specifiedDomain[1](dataDomain[1]);\n  } else {\n    domain[1] = dataDomain[1];\n  }\n  /* eslint-enable prefer-destructuring */\n\n  return domain;\n};\n\n/**\n * Calculate the size between two category\n * @param  {Object} axis  The options of axis\n * @param  {Array}  ticks The ticks of axis\n * @param  {Boolean} isBar if items in axis are bars\n * @return {Number} Size\n */\nexports.parseSpecifiedDomain = parseSpecifiedDomain;\nvar getBandSizeOfAxis = function getBandSizeOfAxis(axis, ticks, isBar) {\n  if (axis && axis.scale && axis.scale.bandwidth) {\n    var bandWidth = axis.scale.bandwidth();\n    if (!isBar || bandWidth > 0) {\n      return bandWidth;\n    }\n  }\n  if (axis && ticks && ticks.length >= 2) {\n    var orderedTicks = (0, _sortBy2[\"default\"])(ticks, function (o) {\n      return o.coordinate;\n    });\n    var bandSize = Infinity;\n    for (var i = 1, len = orderedTicks.length; i < len; i++) {\n      var cur = orderedTicks[i];\n      var prev = orderedTicks[i - 1];\n      bandSize = Math.min((cur.coordinate || 0) - (prev.coordinate || 0), bandSize);\n    }\n    return bandSize === Infinity ? 0 : bandSize;\n  }\n  return isBar ? undefined : 0;\n};\n/**\n * parse the domain of a category axis when a domain is specified\n * @param   {Array}        specifiedDomain  The domain specified by users\n * @param   {Array}        calculatedDomain The domain calculated by dateKey\n * @param   {ReactElement} axisChild        The axis element\n * @returns {Array}        domains\n */\nexports.getBandSizeOfAxis = getBandSizeOfAxis;\nvar parseDomainOfCategoryAxis = function parseDomainOfCategoryAxis(specifiedDomain, calculatedDomain, axisChild) {\n  if (!specifiedDomain || !specifiedDomain.length) {\n    return calculatedDomain;\n  }\n  if ((0, _isEqual2[\"default\"])(specifiedDomain, (0, _get2[\"default\"])(axisChild, 'type.defaultProps.domain'))) {\n    return calculatedDomain;\n  }\n  return specifiedDomain;\n};\nexports.parseDomainOfCategoryAxis = parseDomainOfCategoryAxis;\nvar getTooltipItem = function getTooltipItem(graphicalItem, payload) {\n  var _graphicalItem$props = graphicalItem.props,\n    dataKey = _graphicalItem$props.dataKey,\n    name = _graphicalItem$props.name,\n    unit = _graphicalItem$props.unit,\n    formatter = _graphicalItem$props.formatter,\n    tooltipType = _graphicalItem$props.tooltipType,\n    chartType = _graphicalItem$props.chartType;\n  return _objectSpread(_objectSpread({}, (0, _ReactUtils.filterProps)(graphicalItem)), {}, {\n    dataKey: dataKey,\n    unit: unit,\n    formatter: formatter,\n    name: name || dataKey,\n    color: getMainColorOfGraphicItem(graphicalItem),\n    value: getValueByDataKey(payload, dataKey),\n    type: tooltipType,\n    payload: payload,\n    chartType: chartType\n  });\n};\nexports.getTooltipItem = getTooltipItem;","map":{"version":3,"names":["Object","defineProperty","exports","value","getCoordinatesOfGrid","getCateCoordinateOfLine","getCateCoordinateOfBar","getBaseValueOfBar","getBarSizeList","getBarPosition","getBandSizeOfAxis","findPositionOfBar","combineEventHandlers","checkDomainOfScale","calculateActiveTickIndex","appendOffsetOfLegend","MIN_VALUE_REG","MAX_VALUE_REG","getDomainOfDataByKey","getTooltipItem","getTicksOfScale","getTicksOfAxis","getStackedDataOfItem","getStackedData","getStackGroupsByAxisId","getMainColorOfGraphicItem","getLegendProps","getDomainOfStackGroups","getDomainOfItemsWithSameAxis","getDomainOfErrorBars","getValueByDataKey","truncateByDomain","parseSpecifiedDomain","parseScale","parseErrorBarsOfAxis","parseDomainOfCategoryAxis","offsetSign","offsetPositive","isCategoricalAxis","_isEqual2","_interopRequireDefault","require","_sortBy2","_upperFirst2","_isString2","_isNaN2","_isArray2","_max2","_min2","_flatMap2","_isFunction2","_get2","_isNil2","d3Scales","_interopRequireWildcard","_d3Shape","_rechartsScale","_ErrorBar","_Legend","_DataUtils","_ReactUtils","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","_typeof","cache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","Symbol","iterator","constructor","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","o","minLen","_arrayLikeToArray","n","toString","slice","name","Array","from","test","iter","isArray","len","length","i","arr2","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","enumerable","push","apply","_objectSpread","target","arguments","source","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","_toPropertyKey","configurable","writable","arg","_toPrimitive","String","input","hint","prim","toPrimitive","undefined","res","Number","dataKey","defaultValue","isNumOrStr","data","type","filterNil","flattenData","entry","domain","isNumber","parseFloat","Infinity","validateData","map","Date","coordinate","_ticks$length","ticks","unsortedTicks","axis","index","axisType","Math","abs","range","before","cur","after","sameDirectionCoord","mathSign","diffInterval","curInRange","min","max","afterInRange","sameInterval","_i","item","_ref","displayName","_item$props","props","stroke","fill","result","_ref2","children","formattedGraphicalItems","legendWidth","legendContent","legendItem","findChildByType","Legend","legendData","payload","reduce","_ref3","sectors","concat","iconType","legendType","color","_ref4","_item$props2","hide","inactive","getWithHeight","_ref5","globalSize","barSize","_ref5$stackGroups","stackGroups","numericAxisIds","sgs","stackIds","j","sLen","_sgs$stackIds$j","items","cateAxisId","barItems","getDisplayName","indexOf","selfSize","cateId","stackList","_ref6","barGap","barCategoryGap","bandSize","_ref6$sizeList","sizeList","maxBarSize","realBarGap","getPercentValue","useFull","fullBarSize","sum","offset","prev","size","newRes","position","_offset","originalSize","legendBox","width","margin","left","right","legendProps","newOffset","box","align","verticalAlign","layout","height","isErrorBarRelevantForAxis","direction","errorBars","findAllByType","ErrorBar","errorBarChild","entryValue","mainValue","errorDomain","prevErrorArr","k","errorValue","lowerValue","upperValue","domains","tag","hasMin","hasMax","values","isGrid","isAll","scale","duplicateDomain","offsetForBand","realScaleType","bandwidth","niceTicks","scaleContent","row","isCategorical","categoricalDomain","tickCount","defaultHandler","parentHandler","childHandler","customizedHandler","arg1","arg2","arg3","arg4","chartType","hasBar","scaleBand","scaleLinear","scalePoint","EPS","first","last","barPosition","child","series","m","positive","negative","STACK_OFFSET_MAP","sign","expand","stackOffsetExpand","none","stackOffsetNone","silhouette","stackOffsetSilhouette","wiggle","stackOffsetWiggle","stackItems","offsetType","dataKeys","stack","d","order","stackOrderNone","_items","numericAxisId","reverseStackOrder","reverse","_item$props3","stackId","axisId","parentGroup","hasStack","childGroup","uniqueId","group","g","stackedData","opts","originalDomain","allowDecimals","scaleType","tickValues","getNiceTickValues","_domain","_tickValues","getTickValuesFixedDomain","_ref7","allowDuplicatedCategory","matchedTick","findEntryInArray","_ref8","_ref9","numericAxis","itemIndex","getDomainOfSingle","startIndex","endIndex","s","specifiedDomain","dataDomain","allowDataOverflow","exec","_value","isBar","bandWidth","orderedTicks","calculatedDomain","axisChild","graphicalItem","_graphicalItem$props","unit","formatter","tooltipType","filterProps"],"sources":["C:/Users/Administrator/Desktop/Учеба/Diploma/yotasker_front/node_modules/recharts/lib/util/ChartUtils.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getCoordinatesOfGrid = exports.getCateCoordinateOfLine = exports.getCateCoordinateOfBar = exports.getBaseValueOfBar = exports.getBarSizeList = exports.getBarPosition = exports.getBandSizeOfAxis = exports.findPositionOfBar = exports.combineEventHandlers = exports.checkDomainOfScale = exports.calculateActiveTickIndex = exports.appendOffsetOfLegend = exports.MIN_VALUE_REG = exports.MAX_VALUE_REG = void 0;\nexports.getDomainOfDataByKey = getDomainOfDataByKey;\nexports.getTooltipItem = exports.getTicksOfScale = exports.getTicksOfAxis = exports.getStackedDataOfItem = exports.getStackedData = exports.getStackGroupsByAxisId = exports.getMainColorOfGraphicItem = exports.getLegendProps = exports.getDomainOfStackGroups = exports.getDomainOfItemsWithSameAxis = exports.getDomainOfErrorBars = void 0;\nexports.getValueByDataKey = getValueByDataKey;\nexports.truncateByDomain = exports.parseSpecifiedDomain = exports.parseScale = exports.parseErrorBarsOfAxis = exports.parseDomainOfCategoryAxis = exports.offsetSign = exports.offsetPositive = exports.isCategoricalAxis = void 0;\nvar _isEqual2 = _interopRequireDefault(require(\"lodash/isEqual\"));\nvar _sortBy2 = _interopRequireDefault(require(\"lodash/sortBy\"));\nvar _upperFirst2 = _interopRequireDefault(require(\"lodash/upperFirst\"));\nvar _isString2 = _interopRequireDefault(require(\"lodash/isString\"));\nvar _isNaN2 = _interopRequireDefault(require(\"lodash/isNaN\"));\nvar _isArray2 = _interopRequireDefault(require(\"lodash/isArray\"));\nvar _max2 = _interopRequireDefault(require(\"lodash/max\"));\nvar _min2 = _interopRequireDefault(require(\"lodash/min\"));\nvar _flatMap2 = _interopRequireDefault(require(\"lodash/flatMap\"));\nvar _isFunction2 = _interopRequireDefault(require(\"lodash/isFunction\"));\nvar _get2 = _interopRequireDefault(require(\"lodash/get\"));\nvar _isNil2 = _interopRequireDefault(require(\"lodash/isNil\"));\nvar d3Scales = _interopRequireWildcard(require(\"victory-vendor/d3-scale\"));\nvar _d3Shape = require(\"victory-vendor/d3-shape\");\nvar _rechartsScale = require(\"recharts-scale\");\nvar _ErrorBar = require(\"../cartesian/ErrorBar\");\nvar _Legend = require(\"../component/Legend\");\nvar _DataUtils = require(\"./DataUtils\");\nvar _ReactUtils = require(\"./ReactUtils\");\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n// TODO: Cause of circular dependency. Needs refactor.\n// import { RadiusAxisProps, AngleAxisProps } from '../polar/types';\n\nfunction getValueByDataKey(obj, dataKey, defaultValue) {\n  if ((0, _isNil2[\"default\"])(obj) || (0, _isNil2[\"default\"])(dataKey)) {\n    return defaultValue;\n  }\n  if ((0, _DataUtils.isNumOrStr)(dataKey)) {\n    return (0, _get2[\"default\"])(obj, dataKey, defaultValue);\n  }\n  if ((0, _isFunction2[\"default\"])(dataKey)) {\n    return dataKey(obj);\n  }\n  return defaultValue;\n}\n/**\n * Get domain of data by key\n * @param  {Array}   data      The data displayed in the chart\n * @param  {String}  key       The unique key of a group of data\n * @param  {String}  type      The type of axis\n * @param  {Boolean} filterNil Whether or not filter nil values\n * @return {Array} Domain of data\n */\nfunction getDomainOfDataByKey(data, key, type, filterNil) {\n  var flattenData = (0, _flatMap2[\"default\"])(data, function (entry) {\n    return getValueByDataKey(entry, key);\n  });\n  if (type === 'number') {\n    var domain = flattenData.filter(function (entry) {\n      return (0, _DataUtils.isNumber)(entry) || parseFloat(entry);\n    });\n    return domain.length ? [(0, _min2[\"default\"])(domain), (0, _max2[\"default\"])(domain)] : [Infinity, -Infinity];\n  }\n  var validateData = filterNil ? flattenData.filter(function (entry) {\n    return !(0, _isNil2[\"default\"])(entry);\n  }) : flattenData;\n\n  // 支持Date类型的x轴\n  return validateData.map(function (entry) {\n    return (0, _DataUtils.isNumOrStr)(entry) || entry instanceof Date ? entry : '';\n  });\n}\nvar calculateActiveTickIndex = function calculateActiveTickIndex(coordinate) {\n  var _ticks$length;\n  var ticks = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var unsortedTicks = arguments.length > 2 ? arguments[2] : undefined;\n  var axis = arguments.length > 3 ? arguments[3] : undefined;\n  var index = -1;\n  var len = (_ticks$length = ticks === null || ticks === void 0 ? void 0 : ticks.length) !== null && _ticks$length !== void 0 ? _ticks$length : 0;\n\n  // if there are 1 or less ticks ticks then the active tick is at index 0\n  if (len <= 1) {\n    return 0;\n  }\n  if (axis && axis.axisType === 'angleAxis' && Math.abs(Math.abs(axis.range[1] - axis.range[0]) - 360) <= 1e-6) {\n    var range = axis.range;\n    // ticks are distributed in a circle\n    for (var i = 0; i < len; i++) {\n      var before = i > 0 ? unsortedTicks[i - 1].coordinate : unsortedTicks[len - 1].coordinate;\n      var cur = unsortedTicks[i].coordinate;\n      var after = i >= len - 1 ? unsortedTicks[0].coordinate : unsortedTicks[i + 1].coordinate;\n      var sameDirectionCoord = void 0;\n      if ((0, _DataUtils.mathSign)(cur - before) !== (0, _DataUtils.mathSign)(after - cur)) {\n        var diffInterval = [];\n        if ((0, _DataUtils.mathSign)(after - cur) === (0, _DataUtils.mathSign)(range[1] - range[0])) {\n          sameDirectionCoord = after;\n          var curInRange = cur + range[1] - range[0];\n          diffInterval[0] = Math.min(curInRange, (curInRange + before) / 2);\n          diffInterval[1] = Math.max(curInRange, (curInRange + before) / 2);\n        } else {\n          sameDirectionCoord = before;\n          var afterInRange = after + range[1] - range[0];\n          diffInterval[0] = Math.min(cur, (afterInRange + cur) / 2);\n          diffInterval[1] = Math.max(cur, (afterInRange + cur) / 2);\n        }\n        var sameInterval = [Math.min(cur, (sameDirectionCoord + cur) / 2), Math.max(cur, (sameDirectionCoord + cur) / 2)];\n        if (coordinate > sameInterval[0] && coordinate <= sameInterval[1] || coordinate >= diffInterval[0] && coordinate <= diffInterval[1]) {\n          index = unsortedTicks[i].index;\n          break;\n        }\n      } else {\n        var min = Math.min(before, after);\n        var max = Math.max(before, after);\n        if (coordinate > (min + cur) / 2 && coordinate <= (max + cur) / 2) {\n          index = unsortedTicks[i].index;\n          break;\n        }\n      }\n    }\n  } else {\n    // ticks are distributed in a single direction\n    for (var _i = 0; _i < len; _i++) {\n      if (_i === 0 && coordinate <= (ticks[_i].coordinate + ticks[_i + 1].coordinate) / 2 || _i > 0 && _i < len - 1 && coordinate > (ticks[_i].coordinate + ticks[_i - 1].coordinate) / 2 && coordinate <= (ticks[_i].coordinate + ticks[_i + 1].coordinate) / 2 || _i === len - 1 && coordinate > (ticks[_i].coordinate + ticks[_i - 1].coordinate) / 2) {\n        index = ticks[_i].index;\n        break;\n      }\n    }\n  }\n  return index;\n};\n\n/**\n * Get the main color of each graphic item\n * @param  {ReactElement} item A graphic item\n * @return {String}            Color\n */\nexports.calculateActiveTickIndex = calculateActiveTickIndex;\nvar getMainColorOfGraphicItem = function getMainColorOfGraphicItem(item) {\n  var _ref = item,\n    displayName = _ref.type.displayName; // TODO: check if displayName is valid.\n  var _item$props = item.props,\n    stroke = _item$props.stroke,\n    fill = _item$props.fill;\n  var result;\n  switch (displayName) {\n    case 'Line':\n      result = stroke;\n      break;\n    case 'Area':\n    case 'Radar':\n      result = stroke && stroke !== 'none' ? stroke : fill;\n      break;\n    default:\n      result = fill;\n      break;\n  }\n  return result;\n};\nexports.getMainColorOfGraphicItem = getMainColorOfGraphicItem;\nvar getLegendProps = function getLegendProps(_ref2) {\n  var children = _ref2.children,\n    formattedGraphicalItems = _ref2.formattedGraphicalItems,\n    legendWidth = _ref2.legendWidth,\n    legendContent = _ref2.legendContent;\n  var legendItem = (0, _ReactUtils.findChildByType)(children, _Legend.Legend);\n  if (!legendItem) {\n    return null;\n  }\n  var legendData;\n  if (legendItem.props && legendItem.props.payload) {\n    legendData = legendItem.props && legendItem.props.payload;\n  } else if (legendContent === 'children') {\n    legendData = (formattedGraphicalItems || []).reduce(function (result, _ref3) {\n      var item = _ref3.item,\n        props = _ref3.props;\n      var data = props.sectors || props.data || [];\n      return result.concat(data.map(function (entry) {\n        return {\n          type: legendItem.props.iconType || item.props.legendType,\n          value: entry.name,\n          color: entry.fill,\n          payload: entry\n        };\n      }));\n    }, []);\n  } else {\n    legendData = (formattedGraphicalItems || []).map(function (_ref4) {\n      var item = _ref4.item;\n      var _item$props2 = item.props,\n        dataKey = _item$props2.dataKey,\n        name = _item$props2.name,\n        legendType = _item$props2.legendType,\n        hide = _item$props2.hide;\n      return {\n        inactive: hide,\n        dataKey: dataKey,\n        type: legendItem.props.iconType || legendType || 'square',\n        color: getMainColorOfGraphicItem(item),\n        value: name || dataKey,\n        payload: item.props\n      };\n    });\n  }\n  return _objectSpread(_objectSpread(_objectSpread({}, legendItem.props), _Legend.Legend.getWithHeight(legendItem, legendWidth)), {}, {\n    payload: legendData,\n    item: legendItem\n  });\n};\n/**\n * Calculate the size of all groups for stacked bar graph\n * @param  {Object} stackGroups The items grouped by axisId and stackId\n * @return {Object} The size of all groups\n */\nexports.getLegendProps = getLegendProps;\nvar getBarSizeList = function getBarSizeList(_ref5) {\n  var globalSize = _ref5.barSize,\n    _ref5$stackGroups = _ref5.stackGroups,\n    stackGroups = _ref5$stackGroups === void 0 ? {} : _ref5$stackGroups;\n  if (!stackGroups) {\n    return {};\n  }\n  var result = {};\n  var numericAxisIds = Object.keys(stackGroups);\n  for (var i = 0, len = numericAxisIds.length; i < len; i++) {\n    var sgs = stackGroups[numericAxisIds[i]].stackGroups;\n    var stackIds = Object.keys(sgs);\n    for (var j = 0, sLen = stackIds.length; j < sLen; j++) {\n      var _sgs$stackIds$j = sgs[stackIds[j]],\n        items = _sgs$stackIds$j.items,\n        cateAxisId = _sgs$stackIds$j.cateAxisId;\n      var barItems = items.filter(function (item) {\n        return (0, _ReactUtils.getDisplayName)(item.type).indexOf('Bar') >= 0;\n      });\n      if (barItems && barItems.length) {\n        var selfSize = barItems[0].props.barSize;\n        var cateId = barItems[0].props[cateAxisId];\n        if (!result[cateId]) {\n          result[cateId] = [];\n        }\n        result[cateId].push({\n          item: barItems[0],\n          stackList: barItems.slice(1),\n          barSize: (0, _isNil2[\"default\"])(selfSize) ? globalSize : selfSize\n        });\n      }\n    }\n  }\n  return result;\n};\n\n/**\n * Calculate the size of each bar and the gap between two bars\n * @param  {Number} bandSize  The size of each category\n * @param  {sizeList} sizeList  The size of all groups\n * @param  {maxBarSize} maxBarSize The maximum size of bar\n * @return {Number} The size of each bar and the gap between two bars\n */\nexports.getBarSizeList = getBarSizeList;\nvar getBarPosition = function getBarPosition(_ref6) {\n  var barGap = _ref6.barGap,\n    barCategoryGap = _ref6.barCategoryGap,\n    bandSize = _ref6.bandSize,\n    _ref6$sizeList = _ref6.sizeList,\n    sizeList = _ref6$sizeList === void 0 ? [] : _ref6$sizeList,\n    maxBarSize = _ref6.maxBarSize;\n  var len = sizeList.length;\n  if (len < 1) return null;\n  var realBarGap = (0, _DataUtils.getPercentValue)(barGap, bandSize, 0, true);\n  var result;\n\n  // whether or not is barSize setted by user\n  if (sizeList[0].barSize === +sizeList[0].barSize) {\n    var useFull = false;\n    var fullBarSize = bandSize / len;\n    var sum = sizeList.reduce(function (res, entry) {\n      return res + entry.barSize || 0;\n    }, 0);\n    sum += (len - 1) * realBarGap;\n    if (sum >= bandSize) {\n      sum -= (len - 1) * realBarGap;\n      realBarGap = 0;\n    }\n    if (sum >= bandSize && fullBarSize > 0) {\n      useFull = true;\n      fullBarSize *= 0.9;\n      sum = len * fullBarSize;\n    }\n    var offset = (bandSize - sum) / 2 >> 0;\n    var prev = {\n      offset: offset - realBarGap,\n      size: 0\n    };\n    result = sizeList.reduce(function (res, entry) {\n      var newRes = [].concat(_toConsumableArray(res), [{\n        item: entry.item,\n        position: {\n          offset: prev.offset + prev.size + realBarGap,\n          size: useFull ? fullBarSize : entry.barSize\n        }\n      }]);\n      prev = newRes[newRes.length - 1].position;\n      if (entry.stackList && entry.stackList.length) {\n        entry.stackList.forEach(function (item) {\n          newRes.push({\n            item: item,\n            position: prev\n          });\n        });\n      }\n      return newRes;\n    }, []);\n  } else {\n    var _offset = (0, _DataUtils.getPercentValue)(barCategoryGap, bandSize, 0, true);\n    if (bandSize - 2 * _offset - (len - 1) * realBarGap <= 0) {\n      realBarGap = 0;\n    }\n    var originalSize = (bandSize - 2 * _offset - (len - 1) * realBarGap) / len;\n    if (originalSize > 1) {\n      originalSize >>= 0;\n    }\n    var size = maxBarSize === +maxBarSize ? Math.min(originalSize, maxBarSize) : originalSize;\n    result = sizeList.reduce(function (res, entry, i) {\n      var newRes = [].concat(_toConsumableArray(res), [{\n        item: entry.item,\n        position: {\n          offset: _offset + (originalSize + realBarGap) * i + (originalSize - size) / 2,\n          size: size\n        }\n      }]);\n      if (entry.stackList && entry.stackList.length) {\n        entry.stackList.forEach(function (item) {\n          newRes.push({\n            item: item,\n            position: newRes[newRes.length - 1].position\n          });\n        });\n      }\n      return newRes;\n    }, []);\n  }\n  return result;\n};\nexports.getBarPosition = getBarPosition;\nvar appendOffsetOfLegend = function appendOffsetOfLegend(offset, items, props, legendBox) {\n  var children = props.children,\n    width = props.width,\n    margin = props.margin;\n  var legendWidth = width - (margin.left || 0) - (margin.right || 0);\n  // const legendHeight = height - (margin.top || 0) - (margin.bottom || 0);\n  var legendProps = getLegendProps({\n    children: children,\n    legendWidth: legendWidth\n  });\n  var newOffset = offset;\n  if (legendProps) {\n    var box = legendBox || {};\n    var align = legendProps.align,\n      verticalAlign = legendProps.verticalAlign,\n      layout = legendProps.layout;\n    if ((layout === 'vertical' || layout === 'horizontal' && verticalAlign === 'middle') && (0, _DataUtils.isNumber)(offset[align])) {\n      newOffset = _objectSpread(_objectSpread({}, offset), {}, _defineProperty({}, align, newOffset[align] + (box.width || 0)));\n    }\n    if ((layout === 'horizontal' || layout === 'vertical' && align === 'center') && (0, _DataUtils.isNumber)(offset[verticalAlign])) {\n      newOffset = _objectSpread(_objectSpread({}, offset), {}, _defineProperty({}, verticalAlign, newOffset[verticalAlign] + (box.height || 0)));\n    }\n  }\n  return newOffset;\n};\nexports.appendOffsetOfLegend = appendOffsetOfLegend;\nvar isErrorBarRelevantForAxis = function isErrorBarRelevantForAxis(layout, axisType, direction) {\n  if ((0, _isNil2[\"default\"])(axisType)) {\n    return true;\n  }\n  if (layout === 'horizontal') {\n    return axisType === 'yAxis';\n  }\n  if (layout === 'vertical') {\n    return axisType === 'xAxis';\n  }\n  if (direction === 'x') {\n    return axisType === 'xAxis';\n  }\n  if (direction === 'y') {\n    return axisType === 'yAxis';\n  }\n  return true;\n};\nvar getDomainOfErrorBars = function getDomainOfErrorBars(data, item, dataKey, layout, axisType) {\n  var children = item.props.children;\n  var errorBars = (0, _ReactUtils.findAllByType)(children, _ErrorBar.ErrorBar).filter(function (errorBarChild) {\n    return isErrorBarRelevantForAxis(layout, axisType, errorBarChild.props.direction);\n  });\n  if (errorBars && errorBars.length) {\n    var keys = errorBars.map(function (errorBarChild) {\n      return errorBarChild.props.dataKey;\n    });\n    return data.reduce(function (result, entry) {\n      var entryValue = getValueByDataKey(entry, dataKey, 0);\n      var mainValue = (0, _isArray2[\"default\"])(entryValue) ? [(0, _min2[\"default\"])(entryValue), (0, _max2[\"default\"])(entryValue)] : [entryValue, entryValue];\n      var errorDomain = keys.reduce(function (prevErrorArr, k) {\n        var errorValue = getValueByDataKey(entry, k, 0);\n        var lowerValue = mainValue[0] - Math.abs((0, _isArray2[\"default\"])(errorValue) ? errorValue[0] : errorValue);\n        var upperValue = mainValue[1] + Math.abs((0, _isArray2[\"default\"])(errorValue) ? errorValue[1] : errorValue);\n        return [Math.min(lowerValue, prevErrorArr[0]), Math.max(upperValue, prevErrorArr[1])];\n      }, [Infinity, -Infinity]);\n      return [Math.min(errorDomain[0], result[0]), Math.max(errorDomain[1], result[1])];\n    }, [Infinity, -Infinity]);\n  }\n  return null;\n};\nexports.getDomainOfErrorBars = getDomainOfErrorBars;\nvar parseErrorBarsOfAxis = function parseErrorBarsOfAxis(data, items, dataKey, axisType, layout) {\n  var domains = items.map(function (item) {\n    return getDomainOfErrorBars(data, item, dataKey, layout, axisType);\n  }).filter(function (entry) {\n    return !(0, _isNil2[\"default\"])(entry);\n  });\n  if (domains && domains.length) {\n    return domains.reduce(function (result, entry) {\n      return [Math.min(result[0], entry[0]), Math.max(result[1], entry[1])];\n    }, [Infinity, -Infinity]);\n  }\n  return null;\n};\n\n/**\n * Get domain of data by the configuration of item element\n * @param  {Array}   data      The data displayed in the chart\n * @param  {Array}   items     The instances of item\n * @param  {String}  type      The type of axis, number - Number Axis, category - Category Axis\n * @param  {LayoutType} layout The type of layout\n * @param  {Boolean} filterNil Whether or not filter nil values\n * @return {Array}        Domain\n */\nexports.parseErrorBarsOfAxis = parseErrorBarsOfAxis;\nvar getDomainOfItemsWithSameAxis = function getDomainOfItemsWithSameAxis(data, items, type, layout, filterNil) {\n  var domains = items.map(function (item) {\n    var dataKey = item.props.dataKey;\n    if (type === 'number' && dataKey) {\n      return getDomainOfErrorBars(data, item, dataKey, layout) || getDomainOfDataByKey(data, dataKey, type, filterNil);\n    }\n    return getDomainOfDataByKey(data, dataKey, type, filterNil);\n  });\n  if (type === 'number') {\n    // Calculate the domain of number axis\n    return domains.reduce(function (result, entry) {\n      return [Math.min(result[0], entry[0]), Math.max(result[1], entry[1])];\n    }, [Infinity, -Infinity]);\n  }\n  var tag = {};\n  // Get the union set of category axis\n  return domains.reduce(function (result, entry) {\n    for (var i = 0, len = entry.length; i < len; i++) {\n      if (!tag[entry[i]]) {\n        tag[entry[i]] = true;\n        result.push(entry[i]);\n      }\n    }\n    return result;\n  }, []);\n};\nexports.getDomainOfItemsWithSameAxis = getDomainOfItemsWithSameAxis;\nvar isCategoricalAxis = function isCategoricalAxis(layout, axisType) {\n  return layout === 'horizontal' && axisType === 'xAxis' || layout === 'vertical' && axisType === 'yAxis' || layout === 'centric' && axisType === 'angleAxis' || layout === 'radial' && axisType === 'radiusAxis';\n};\n\n/**\n * Calculate the Coordinates of grid\n * @param  {Array} ticks The ticks in axis\n * @param {Number} min   The minimun value of axis\n * @param {Number} max   The maximun value of axis\n * @return {Array}       Coordinates\n */\nexports.isCategoricalAxis = isCategoricalAxis;\nvar getCoordinatesOfGrid = function getCoordinatesOfGrid(ticks, min, max) {\n  var hasMin, hasMax;\n  var values = ticks.map(function (entry) {\n    if (entry.coordinate === min) {\n      hasMin = true;\n    }\n    if (entry.coordinate === max) {\n      hasMax = true;\n    }\n    return entry.coordinate;\n  });\n  if (!hasMin) {\n    values.push(min);\n  }\n  if (!hasMax) {\n    values.push(max);\n  }\n  return values;\n};\n\n/**\n * Get the ticks of an axis\n * @param  {Object}  axis The configuration of an axis\n * @param {Boolean} isGrid Whether or not are the ticks in grid\n * @param {Boolean} isAll Return the ticks of all the points or not\n * @return {Array}  Ticks\n */\nexports.getCoordinatesOfGrid = getCoordinatesOfGrid;\nvar getTicksOfAxis = function getTicksOfAxis(axis, isGrid, isAll) {\n  if (!axis) return null;\n  var scale = axis.scale;\n  var duplicateDomain = axis.duplicateDomain,\n    type = axis.type,\n    range = axis.range;\n  var offsetForBand = axis.realScaleType === 'scaleBand' ? scale.bandwidth() / 2 : 2;\n  var offset = (isGrid || isAll) && type === 'category' && scale.bandwidth ? scale.bandwidth() / offsetForBand : 0;\n  offset = axis.axisType === 'angleAxis' && (range === null || range === void 0 ? void 0 : range.length) >= 2 ? (0, _DataUtils.mathSign)(range[0] - range[1]) * 2 * offset : offset;\n\n  // The ticks set by user should only affect the ticks adjacent to axis line\n  if (isGrid && (axis.ticks || axis.niceTicks)) {\n    var result = (axis.ticks || axis.niceTicks).map(function (entry) {\n      var scaleContent = duplicateDomain ? duplicateDomain.indexOf(entry) : entry;\n      return {\n        // If the scaleContent is not a number, the coordinate will be NaN.\n        // That could be the case for example with a PointScale and a string as domain.\n        coordinate: scale(scaleContent) + offset,\n        value: entry,\n        offset: offset\n      };\n    });\n    return result.filter(function (row) {\n      return !(0, _isNaN2[\"default\"])(row.coordinate);\n    });\n  }\n\n  // When axis is a categorial axis, but the type of axis is number or the scale of axis is not \"auto\"\n  if (axis.isCategorical && axis.categoricalDomain) {\n    return axis.categoricalDomain.map(function (entry, index) {\n      return {\n        coordinate: scale(entry) + offset,\n        value: entry,\n        index: index,\n        offset: offset\n      };\n    });\n  }\n  if (scale.ticks && !isAll) {\n    return scale.ticks(axis.tickCount).map(function (entry) {\n      return {\n        coordinate: scale(entry) + offset,\n        value: entry,\n        offset: offset\n      };\n    });\n  }\n\n  // When axis has duplicated text, serial numbers are used to generate scale\n  return scale.domain().map(function (entry, index) {\n    return {\n      coordinate: scale(entry) + offset,\n      value: duplicateDomain ? duplicateDomain[entry] : entry,\n      index: index,\n      offset: offset\n    };\n  });\n};\n\n/**\n * combine the handlers\n * @param  {Function} defaultHandler Internal private handler\n * @param  {Function} parentHandler  Handler function specified in parent component\n * @param  {Function} childHandler   Handler function specified in child component\n * @return {Function}                The combined handler\n */\nexports.getTicksOfAxis = getTicksOfAxis;\nvar combineEventHandlers = function combineEventHandlers(defaultHandler, parentHandler, childHandler) {\n  var customizedHandler;\n  if ((0, _isFunction2[\"default\"])(childHandler)) {\n    customizedHandler = childHandler;\n  } else if ((0, _isFunction2[\"default\"])(parentHandler)) {\n    customizedHandler = parentHandler;\n  }\n  if ((0, _isFunction2[\"default\"])(defaultHandler) || customizedHandler) {\n    return function (arg1, arg2, arg3, arg4) {\n      if ((0, _isFunction2[\"default\"])(defaultHandler)) {\n        defaultHandler(arg1, arg2, arg3, arg4);\n      }\n      if ((0, _isFunction2[\"default\"])(customizedHandler)) {\n        customizedHandler(arg1, arg2, arg3, arg4);\n      }\n    };\n  }\n  return null;\n};\n/**\n * Parse the scale function of axis\n * @param  {Object}   axis          The option of axis\n * @param  {String}   chartType     The displayName of chart\n * @param  {Boolean}  hasBar        if it has a bar\n * @return {Function}               The scale function\n */\nexports.combineEventHandlers = combineEventHandlers;\nvar parseScale = function parseScale(axis, chartType, hasBar) {\n  var scale = axis.scale,\n    type = axis.type,\n    layout = axis.layout,\n    axisType = axis.axisType;\n  if (scale === 'auto') {\n    if (layout === 'radial' && axisType === 'radiusAxis') {\n      return {\n        scale: d3Scales.scaleBand(),\n        realScaleType: 'band'\n      };\n    }\n    if (layout === 'radial' && axisType === 'angleAxis') {\n      return {\n        scale: d3Scales.scaleLinear(),\n        realScaleType: 'linear'\n      };\n    }\n    if (type === 'category' && chartType && (chartType.indexOf('LineChart') >= 0 || chartType.indexOf('AreaChart') >= 0 || chartType.indexOf('ComposedChart') >= 0 && !hasBar)) {\n      return {\n        scale: d3Scales.scalePoint(),\n        realScaleType: 'point'\n      };\n    }\n    if (type === 'category') {\n      return {\n        scale: d3Scales.scaleBand(),\n        realScaleType: 'band'\n      };\n    }\n    return {\n      scale: d3Scales.scaleLinear(),\n      realScaleType: 'linear'\n    };\n  }\n  if ((0, _isString2[\"default\"])(scale)) {\n    var name = \"scale\".concat((0, _upperFirst2[\"default\"])(scale));\n    return {\n      scale: (d3Scales[name] || d3Scales.scalePoint)(),\n      realScaleType: d3Scales[name] ? name : 'point'\n    };\n  }\n  return (0, _isFunction2[\"default\"])(scale) ? {\n    scale: scale\n  } : {\n    scale: d3Scales.scalePoint(),\n    realScaleType: 'point'\n  };\n};\nexports.parseScale = parseScale;\nvar EPS = 1e-4;\nvar checkDomainOfScale = function checkDomainOfScale(scale) {\n  var domain = scale.domain();\n  if (!domain || domain.length <= 2) {\n    return;\n  }\n  var len = domain.length;\n  var range = scale.range();\n  var min = Math.min(range[0], range[1]) - EPS;\n  var max = Math.max(range[0], range[1]) + EPS;\n  var first = scale(domain[0]);\n  var last = scale(domain[len - 1]);\n  if (first < min || first > max || last < min || last > max) {\n    scale.domain([domain[0], domain[len - 1]]);\n  }\n};\nexports.checkDomainOfScale = checkDomainOfScale;\nvar findPositionOfBar = function findPositionOfBar(barPosition, child) {\n  if (!barPosition) {\n    return null;\n  }\n  for (var i = 0, len = barPosition.length; i < len; i++) {\n    if (barPosition[i].item === child) {\n      return barPosition[i].position;\n    }\n  }\n  return null;\n};\nexports.findPositionOfBar = findPositionOfBar;\nvar truncateByDomain = function truncateByDomain(value, domain) {\n  if (!domain || domain.length !== 2 || !(0, _DataUtils.isNumber)(domain[0]) || !(0, _DataUtils.isNumber)(domain[1])) {\n    return value;\n  }\n  var min = Math.min(domain[0], domain[1]);\n  var max = Math.max(domain[0], domain[1]);\n  var result = [value[0], value[1]];\n  if (!(0, _DataUtils.isNumber)(value[0]) || value[0] < min) {\n    result[0] = min;\n  }\n  if (!(0, _DataUtils.isNumber)(value[1]) || value[1] > max) {\n    result[1] = max;\n  }\n  if (result[0] > max) {\n    result[0] = max;\n  }\n  if (result[1] < min) {\n    result[1] = min;\n  }\n  return result;\n};\n\n/* eslint no-param-reassign: 0 */\nexports.truncateByDomain = truncateByDomain;\nvar offsetSign = function offsetSign(series) {\n  var n = series.length;\n  if (n <= 0) {\n    return;\n  }\n  for (var j = 0, m = series[0].length; j < m; ++j) {\n    var positive = 0;\n    var negative = 0;\n    for (var i = 0; i < n; ++i) {\n      var value = (0, _isNaN2[\"default\"])(series[i][j][1]) ? series[i][j][0] : series[i][j][1];\n\n      /* eslint-disable prefer-destructuring */\n      if (value >= 0) {\n        series[i][j][0] = positive;\n        series[i][j][1] = positive + value;\n        positive = series[i][j][1];\n      } else {\n        series[i][j][0] = negative;\n        series[i][j][1] = negative + value;\n        negative = series[i][j][1];\n      }\n      /* eslint-enable prefer-destructuring */\n    }\n  }\n};\nexports.offsetSign = offsetSign;\nvar offsetPositive = function offsetPositive(series) {\n  var n = series.length;\n  if (n <= 0) {\n    return;\n  }\n  for (var j = 0, m = series[0].length; j < m; ++j) {\n    var positive = 0;\n    for (var i = 0; i < n; ++i) {\n      var value = (0, _isNaN2[\"default\"])(series[i][j][1]) ? series[i][j][0] : series[i][j][1];\n\n      /* eslint-disable prefer-destructuring */\n      if (value >= 0) {\n        series[i][j][0] = positive;\n        series[i][j][1] = positive + value;\n        positive = series[i][j][1];\n      } else {\n        series[i][j][0] = 0;\n        series[i][j][1] = 0;\n      }\n      /* eslint-enable prefer-destructuring */\n    }\n  }\n};\nexports.offsetPositive = offsetPositive;\nvar STACK_OFFSET_MAP = {\n  sign: offsetSign,\n  expand: _d3Shape.stackOffsetExpand,\n  none: _d3Shape.stackOffsetNone,\n  silhouette: _d3Shape.stackOffsetSilhouette,\n  wiggle: _d3Shape.stackOffsetWiggle,\n  positive: offsetPositive\n};\nvar getStackedData = function getStackedData(data, stackItems, offsetType) {\n  var dataKeys = stackItems.map(function (item) {\n    return item.props.dataKey;\n  });\n  var stack = (0, _d3Shape.stack)().keys(dataKeys).value(function (d, key) {\n    return +getValueByDataKey(d, key, 0);\n  }).order(_d3Shape.stackOrderNone).offset(STACK_OFFSET_MAP[offsetType]);\n  return stack(data);\n};\nexports.getStackedData = getStackedData;\nvar getStackGroupsByAxisId = function getStackGroupsByAxisId(data, _items, numericAxisId, cateAxisId, offsetType, reverseStackOrder) {\n  if (!data) {\n    return null;\n  }\n\n  // reversing items to affect render order (for layering)\n  var items = reverseStackOrder ? _items.reverse() : _items;\n  var stackGroups = items.reduce(function (result, item) {\n    var _item$props3 = item.props,\n      stackId = _item$props3.stackId,\n      hide = _item$props3.hide;\n    if (hide) {\n      return result;\n    }\n    var axisId = item.props[numericAxisId];\n    var parentGroup = result[axisId] || {\n      hasStack: false,\n      stackGroups: {}\n    };\n    if ((0, _DataUtils.isNumOrStr)(stackId)) {\n      var childGroup = parentGroup.stackGroups[stackId] || {\n        numericAxisId: numericAxisId,\n        cateAxisId: cateAxisId,\n        items: []\n      };\n      childGroup.items.push(item);\n      parentGroup.hasStack = true;\n      parentGroup.stackGroups[stackId] = childGroup;\n    } else {\n      parentGroup.stackGroups[(0, _DataUtils.uniqueId)('_stackId_')] = {\n        numericAxisId: numericAxisId,\n        cateAxisId: cateAxisId,\n        items: [item]\n      };\n    }\n    return _objectSpread(_objectSpread({}, result), {}, _defineProperty({}, axisId, parentGroup));\n  }, {});\n  return Object.keys(stackGroups).reduce(function (result, axisId) {\n    var group = stackGroups[axisId];\n    if (group.hasStack) {\n      group.stackGroups = Object.keys(group.stackGroups).reduce(function (res, stackId) {\n        var g = group.stackGroups[stackId];\n        return _objectSpread(_objectSpread({}, res), {}, _defineProperty({}, stackId, {\n          numericAxisId: numericAxisId,\n          cateAxisId: cateAxisId,\n          items: g.items,\n          stackedData: getStackedData(data, g.items, offsetType)\n        }));\n      }, {});\n    }\n    return _objectSpread(_objectSpread({}, result), {}, _defineProperty({}, axisId, group));\n  }, {});\n};\n\n/**\n * Configure the scale function of axis\n * @param {Object} scale The scale function\n * @param {Object} opts  The configuration of axis\n * @return {Object}      null\n */\nexports.getStackGroupsByAxisId = getStackGroupsByAxisId;\nvar getTicksOfScale = function getTicksOfScale(scale, opts) {\n  var realScaleType = opts.realScaleType,\n    type = opts.type,\n    tickCount = opts.tickCount,\n    originalDomain = opts.originalDomain,\n    allowDecimals = opts.allowDecimals;\n  var scaleType = realScaleType || opts.scale;\n  if (scaleType !== 'auto' && scaleType !== 'linear') {\n    return null;\n  }\n  if (tickCount && type === 'number' && originalDomain && (originalDomain[0] === 'auto' || originalDomain[1] === 'auto')) {\n    // Calculate the ticks by the number of grid when the axis is a number axis\n    var domain = scale.domain();\n    if (!domain.length) {\n      return null;\n    }\n    var tickValues = (0, _rechartsScale.getNiceTickValues)(domain, tickCount, allowDecimals);\n    scale.domain([(0, _min2[\"default\"])(tickValues), (0, _max2[\"default\"])(tickValues)]);\n    return {\n      niceTicks: tickValues\n    };\n  }\n  if (tickCount && type === 'number') {\n    var _domain = scale.domain();\n    var _tickValues = (0, _rechartsScale.getTickValuesFixedDomain)(_domain, tickCount, allowDecimals);\n    return {\n      niceTicks: _tickValues\n    };\n  }\n  return null;\n};\nexports.getTicksOfScale = getTicksOfScale;\nvar getCateCoordinateOfLine = function getCateCoordinateOfLine(_ref7) {\n  var axis = _ref7.axis,\n    ticks = _ref7.ticks,\n    bandSize = _ref7.bandSize,\n    entry = _ref7.entry,\n    index = _ref7.index,\n    dataKey = _ref7.dataKey;\n  if (axis.type === 'category') {\n    // find coordinate of category axis by the value of category\n    if (!axis.allowDuplicatedCategory && axis.dataKey && !(0, _isNil2[\"default\"])(entry[axis.dataKey])) {\n      var matchedTick = (0, _DataUtils.findEntryInArray)(ticks, 'value', entry[axis.dataKey]);\n      if (matchedTick) {\n        return matchedTick.coordinate + bandSize / 2;\n      }\n    }\n    return ticks[index] ? ticks[index].coordinate + bandSize / 2 : null;\n  }\n  var value = getValueByDataKey(entry, !(0, _isNil2[\"default\"])(dataKey) ? dataKey : axis.dataKey);\n  return !(0, _isNil2[\"default\"])(value) ? axis.scale(value) : null;\n};\nexports.getCateCoordinateOfLine = getCateCoordinateOfLine;\nvar getCateCoordinateOfBar = function getCateCoordinateOfBar(_ref8) {\n  var axis = _ref8.axis,\n    ticks = _ref8.ticks,\n    offset = _ref8.offset,\n    bandSize = _ref8.bandSize,\n    entry = _ref8.entry,\n    index = _ref8.index;\n  if (axis.type === 'category') {\n    return ticks[index] ? ticks[index].coordinate + offset : null;\n  }\n  var value = getValueByDataKey(entry, axis.dataKey, axis.domain[index]);\n  return !(0, _isNil2[\"default\"])(value) ? axis.scale(value) - bandSize / 2 + offset : null;\n};\nexports.getCateCoordinateOfBar = getCateCoordinateOfBar;\nvar getBaseValueOfBar = function getBaseValueOfBar(_ref9) {\n  var numericAxis = _ref9.numericAxis;\n  var domain = numericAxis.scale.domain();\n  if (numericAxis.type === 'number') {\n    var min = Math.min(domain[0], domain[1]);\n    var max = Math.max(domain[0], domain[1]);\n    if (min <= 0 && max >= 0) {\n      return 0;\n    }\n    if (max < 0) {\n      return max;\n    }\n    return min;\n  }\n  return domain[0];\n};\nexports.getBaseValueOfBar = getBaseValueOfBar;\nvar getStackedDataOfItem = function getStackedDataOfItem(item, stackGroups) {\n  var stackId = item.props.stackId;\n  if ((0, _DataUtils.isNumOrStr)(stackId)) {\n    var group = stackGroups[stackId];\n    if (group && group.items.length) {\n      var itemIndex = -1;\n      for (var i = 0, len = group.items.length; i < len; i++) {\n        if (group.items[i] === item) {\n          itemIndex = i;\n          break;\n        }\n      }\n      return itemIndex >= 0 ? group.stackedData[itemIndex] : null;\n    }\n  }\n  return null;\n};\nexports.getStackedDataOfItem = getStackedDataOfItem;\nvar getDomainOfSingle = function getDomainOfSingle(data) {\n  return data.reduce(function (result, entry) {\n    return [(0, _min2[\"default\"])(entry.concat([result[0]]).filter(_DataUtils.isNumber)), (0, _max2[\"default\"])(entry.concat([result[1]]).filter(_DataUtils.isNumber))];\n  }, [Infinity, -Infinity]);\n};\nvar getDomainOfStackGroups = function getDomainOfStackGroups(stackGroups, startIndex, endIndex) {\n  return Object.keys(stackGroups).reduce(function (result, stackId) {\n    var group = stackGroups[stackId];\n    var stackedData = group.stackedData;\n    var domain = stackedData.reduce(function (res, entry) {\n      var s = getDomainOfSingle(entry.slice(startIndex, endIndex + 1));\n      return [Math.min(res[0], s[0]), Math.max(res[1], s[1])];\n    }, [Infinity, -Infinity]);\n    return [Math.min(domain[0], result[0]), Math.max(domain[1], result[1])];\n  }, [Infinity, -Infinity]).map(function (result) {\n    return result === Infinity || result === -Infinity ? 0 : result;\n  });\n};\nexports.getDomainOfStackGroups = getDomainOfStackGroups;\nvar MIN_VALUE_REG = /^dataMin[\\s]*-[\\s]*([0-9]+([.]{1}[0-9]+){0,1})$/;\nexports.MIN_VALUE_REG = MIN_VALUE_REG;\nvar MAX_VALUE_REG = /^dataMax[\\s]*\\+[\\s]*([0-9]+([.]{1}[0-9]+){0,1})$/;\nexports.MAX_VALUE_REG = MAX_VALUE_REG;\nvar parseSpecifiedDomain = function parseSpecifiedDomain(specifiedDomain, dataDomain, allowDataOverflow) {\n  if ((0, _isFunction2[\"default\"])(specifiedDomain)) {\n    return specifiedDomain(dataDomain, allowDataOverflow);\n  }\n  if (!(0, _isArray2[\"default\"])(specifiedDomain)) {\n    return dataDomain;\n  }\n  var domain = [];\n\n  /* eslint-disable prefer-destructuring */\n  if ((0, _DataUtils.isNumber)(specifiedDomain[0])) {\n    domain[0] = allowDataOverflow ? specifiedDomain[0] : Math.min(specifiedDomain[0], dataDomain[0]);\n  } else if (MIN_VALUE_REG.test(specifiedDomain[0])) {\n    var value = +MIN_VALUE_REG.exec(specifiedDomain[0])[1];\n    domain[0] = dataDomain[0] - value;\n  } else if ((0, _isFunction2[\"default\"])(specifiedDomain[0])) {\n    domain[0] = specifiedDomain[0](dataDomain[0]);\n  } else {\n    domain[0] = dataDomain[0];\n  }\n  if ((0, _DataUtils.isNumber)(specifiedDomain[1])) {\n    domain[1] = allowDataOverflow ? specifiedDomain[1] : Math.max(specifiedDomain[1], dataDomain[1]);\n  } else if (MAX_VALUE_REG.test(specifiedDomain[1])) {\n    var _value = +MAX_VALUE_REG.exec(specifiedDomain[1])[1];\n    domain[1] = dataDomain[1] + _value;\n  } else if ((0, _isFunction2[\"default\"])(specifiedDomain[1])) {\n    domain[1] = specifiedDomain[1](dataDomain[1]);\n  } else {\n    domain[1] = dataDomain[1];\n  }\n  /* eslint-enable prefer-destructuring */\n\n  return domain;\n};\n\n/**\n * Calculate the size between two category\n * @param  {Object} axis  The options of axis\n * @param  {Array}  ticks The ticks of axis\n * @param  {Boolean} isBar if items in axis are bars\n * @return {Number} Size\n */\nexports.parseSpecifiedDomain = parseSpecifiedDomain;\nvar getBandSizeOfAxis = function getBandSizeOfAxis(axis, ticks, isBar) {\n  if (axis && axis.scale && axis.scale.bandwidth) {\n    var bandWidth = axis.scale.bandwidth();\n    if (!isBar || bandWidth > 0) {\n      return bandWidth;\n    }\n  }\n  if (axis && ticks && ticks.length >= 2) {\n    var orderedTicks = (0, _sortBy2[\"default\"])(ticks, function (o) {\n      return o.coordinate;\n    });\n    var bandSize = Infinity;\n    for (var i = 1, len = orderedTicks.length; i < len; i++) {\n      var cur = orderedTicks[i];\n      var prev = orderedTicks[i - 1];\n      bandSize = Math.min((cur.coordinate || 0) - (prev.coordinate || 0), bandSize);\n    }\n    return bandSize === Infinity ? 0 : bandSize;\n  }\n  return isBar ? undefined : 0;\n};\n/**\n * parse the domain of a category axis when a domain is specified\n * @param   {Array}        specifiedDomain  The domain specified by users\n * @param   {Array}        calculatedDomain The domain calculated by dateKey\n * @param   {ReactElement} axisChild        The axis element\n * @returns {Array}        domains\n */\nexports.getBandSizeOfAxis = getBandSizeOfAxis;\nvar parseDomainOfCategoryAxis = function parseDomainOfCategoryAxis(specifiedDomain, calculatedDomain, axisChild) {\n  if (!specifiedDomain || !specifiedDomain.length) {\n    return calculatedDomain;\n  }\n  if ((0, _isEqual2[\"default\"])(specifiedDomain, (0, _get2[\"default\"])(axisChild, 'type.defaultProps.domain'))) {\n    return calculatedDomain;\n  }\n  return specifiedDomain;\n};\nexports.parseDomainOfCategoryAxis = parseDomainOfCategoryAxis;\nvar getTooltipItem = function getTooltipItem(graphicalItem, payload) {\n  var _graphicalItem$props = graphicalItem.props,\n    dataKey = _graphicalItem$props.dataKey,\n    name = _graphicalItem$props.name,\n    unit = _graphicalItem$props.unit,\n    formatter = _graphicalItem$props.formatter,\n    tooltipType = _graphicalItem$props.tooltipType,\n    chartType = _graphicalItem$props.chartType;\n  return _objectSpread(_objectSpread({}, (0, _ReactUtils.filterProps)(graphicalItem)), {}, {\n    dataKey: dataKey,\n    unit: unit,\n    formatter: formatter,\n    name: name || dataKey,\n    color: getMainColorOfGraphicItem(graphicalItem),\n    value: getValueByDataKey(payload, dataKey),\n    type: tooltipType,\n    payload: payload,\n    chartType: chartType\n  });\n};\nexports.getTooltipItem = getTooltipItem;"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}